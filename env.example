# Main Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# VPS OPTIMIZATIONS
# =============================================================================

# Whisper Settings (OPTIMIZED for 3x speed)
WHISPER_MODEL=tiny                    # Model size: tiny=3x faster, base=balanced, small/medium/large=slower
WHISPER_COMPUTE_TYPE=int8             # Compute type: int8=fastest, int16=slower, float16/32=slowest
WHISPER_DEVICE=cpu                    # Force CPU usage for VPS
WHISPER_CPU_THREADS=6                 # Optimize for 6 vCPU VPS (use 6 out of 8 cores)
WHISPER_MEMORY_LIMIT_GB=16           # Memory limit for Whisper (leaves 8GB for system)
WHISPER_BEAM_SIZE=1                   # Beam size for CPU optimization (1=fastest, 5=better quality)
WHISPER_DOWNLOAD_ROOT=./models        # Local model storage

# Ollama Settings (OPTIMIZED for 3x speed)
OLLAMA_BASE_URL=http://localhost:11434 # Ollama service URL
OLLAMA_MODEL=llama3.1:8b-q5_K_M      # Quantized model: q5_K_M=3x faster, 8b=balanced, q4_K_M=4x faster
OLLAMA_TIMEOUT_SECONDS=120            # Request timeout (increased for large summaries)
OLLAMA_CPU_THREADS=6                  # CPU thread allocation (optimal for VPS)
OLLAMA_MEMORY_LIMIT_GB=16             # Memory limit for Ollama (q5_K_M uses ~4-6GB vs 8-12GB)

# =============================================================================
# LANGUAGE RESTRICTIONS
# =============================================================================

ALLOWED_LANGUAGES=tr,en              # OPTIMIZED: EN+TR only (20-25% speed boost vs auto-detect)
FORCE_LANGUAGE_VALIDATION=true        # Strict language validation (prevents errors)

# =============================================================================
# PROGRESS TRACKING
# =============================================================================

ENABLE_PROGRESS_TRACKING=true         # Enable progress tracking
PROGRESS_UPDATE_INTERVAL_MS=500       # Progress update frequency
ENABLE_SSE=true                       # Enable Server-Sent Events

# =============================================================================
# QUEUE SYSTEM
# =============================================================================

USE_QUEUE_SYSTEM=true                 # Enable Redis-based job queuing
REDIS_URL=redis://localhost:6385      # Redis connection URL
QUEUE_MAX_WORKERS=2                   # Maximum concurrent workers

# =============================================================================
# PERFORMANCE & RESOURCES
# =============================================================================

MAX_CONCURRENCY=2                     # OPTIMIZED: 2 concurrent transcriptions (optimal for 6-core VPS)
MAX_UPLOAD_MB=100                     # Maximum file upload size in MB (supports 60+ min meetings)

# =============================================================================
# AUTHENTICATION
# =============================================================================

BASIC_AUTH_USERNAME=                  # HTTP Basic Auth username (optional)
BASIC_AUTH_PASSWORD=                  # HTTP Basic Auth password (optional)

# =============================================================================
# LOGGING
# =============================================================================

LOG_LEVEL=INFO                        # Log level: DEBUG, INFO, WARNING, ERROR

# =============================================================================
# CORS & SECURITY
# =============================================================================

ALLOWED_ORIGINS=["*"]                 # CORS allowed origins
